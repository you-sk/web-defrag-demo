# web-defrag-demo

懐かしのWindows 95/98時代のディスクデフラグツールを模したWebデモアプリです。

https://you-sk.github.io/web-defrag-demo/

![image](https://github.com/user-attachments/assets/27d4027a-857a-4d42-8e90-e3d732b5533e)

## 概要

昔のWindowsに搭載されていたディスクデフラグツールの視覚的な楽しさを再現したWebアプリケーションです。カラフルなブロックがリアルタイムで移動する様子を眺めて、あの頃の気持ちよさを思い出してください。

**注意：これは実際のディスクデフラグツールではありません。純粋に視覚的なデモンストレーションです。**

## 特徴

- 🎨 Windows 95/98時代の懐かしいUI再現
- 📊 50×25のグリッドでディスクブロックを視覚化
- 🌈 色分けされたブロック表示
  - **黒**：未使用領域
  - **青**：連続ファイル
  - **赤**：断片化ファイル
  - **緑**：最適化済み
  - **黄**：移動中
- ⚡ リアルタイムアニメーション
- 📈 プログレスバーとステータス表示
- 🎮 開始/一時停止/停止/リセット機能

## 使い方

1. **初期状態**
   - ランダムに生成されたディスク状態が表示されます
   - 赤い断片化ファイルが散らばっている状態

2. **最適化開始**
   - 「最適化開始」ボタンをクリック
   - 断片化ファイル（赤）が前方に移動して最適化済み（緑）に変化

3. **操作**
   - **一時停止**：動作を一時停止/再開
   - **停止**：最適化を中断
   - **リセット**：新しいランダムなディスク状態を生成

## 技術仕様

### 動作環境
- モダンなWebブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript有効

### 技術スタック
- HTML5
- CSS3（Grid Layout、Transitions）
- Vanilla JavaScript（ES6+）

### ファイル構成
```
defrag-demo/
├── index.html          # メインHTMLファイル（CSS/JS含む）
└── README.md          # このファイル
```

### グリッド仕様
- **サイズ**：50×25 = 1,250ブロック
- **使用率**：55-65%（空き領域35-45%）
- **断片化率**：約65%のファイルが断片化状態

## アルゴリズム

1. **初期化**
   - ランダムな位置にファイルを配置
   - 65%の確率で断片化ファイルとして生成

2. **デフラグ処理**
   - 断片化ファイルを前方の空き領域に移動
   - 移動中は黄色で表示
   - 移動完了後は緑色（最適化済み）に変更

3. **視覚効果**
   - 全ての断片化ファイル移動後、既存の連続ファイルも緑色に変更（演出）

## カスタマイズ

### 速度調整
```javascript
// moveBlock関数内のsleep値を変更
await sleep(200); // ミリ秒（数値を小さくすると高速化）
```

### 断片化率調整
```javascript
// generateRandomDisk関数内
const isFragmented = Math.random() < 0.65; // 0.65 = 65%
```

### グリッドサイズ変更
```javascript
const GRID_WIDTH = 50;  // 幅
const GRID_HEIGHT = 25; // 高さ
```

## ブラウザ対応

| ブラウザ | バージョン | 対応状況 |
|---------|-----------|---------|
| Chrome  | 60+       | ✅ 完全対応 |
| Firefox | 60+       | ✅ 完全対応 |
| Safari  | 12+       | ✅ 完全対応 |
| Edge    | 79+       | ✅ 完全対応 |
| IE      | 11        | ❌ 非対応 |

## 既知の制限

- Internet Explorer は非対応（CSS Grid未対応のため）
- モバイル端末では表示が小さくなる場合があります
- 実際のファイルシステムやディスクとは一切関係ありません

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
